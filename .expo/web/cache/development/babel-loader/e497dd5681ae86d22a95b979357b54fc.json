{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { SliderComponent } from \"react-native-web/dist/index\";\nimport TodoList from \"../components/TodoList\";\nimport { getTaskList } from \"../API/todoAPI\";\nimport { TokenContext } from \"../Context/Context\";\nimport { UsernameContext } from \"../Context/Context\";\nimport { withSafeAreaInsets } from 'react-native-safe-area-context';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function TodoLists() {\n  var _useState = useState(tasksName),\n      _useState2 = _slicedToArray(_useState, 2),\n      TodoList = _useState2[0],\n      setTodoList = _useState2[1];\n\n  var tasksID = [];\n  var tasksName = [];\n\n  var TaskList = function TaskList(username, token) {\n    getTaskList(username, token).then(function (taskList) {\n      for (var i = 0; i < taskList.length; i++) {\n        console.log('tache: ' + taskList[i].title);\n        tasksID.push(taskList[i].id);\n        tasksName.push(taskList[i].title);\n      }\n\n      console.log(tasksName);\n      setTodoList(tasksName);\n      console.log(tasksID);\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      children: \"Liste des TodoLists\"\n    }), _jsx(TokenContext.Consumer, {\n      children: function children(_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            token = _ref2[0],\n            setToken = _ref2[1];\n\n        return _jsx(UsernameContext.Consumer, {\n          children: function children(_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                username = _ref4[0],\n                setUsername = _ref4[1];\n\n            return _jsxs(View, {\n              children: [console.log(\"coucou\"), TaskList(username, token), console.log('ici'), _jsxs(Text, {\n                children: [\"Premier ID :\", tasksID[0]]\n              }), console.log('AU SECOURS C ASYNCRONE')]\n            });\n          }\n        });\n      }\n    })]\n  });\n}\nvar screen = Dimensions.get(\"screen\");\nvar styles = StyleSheet.create({\n  container: {\n    height: screen.width * 0.8,\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 250\n  }\n});","map":{"version":3,"names":["React","SliderComponent","TodoList","getTaskList","TokenContext","UsernameContext","withSafeAreaInsets","TodoLists","useState","tasksName","setTodoList","tasksID","TaskList","username","token","then","taskList","i","length","console","log","title","push","id","styles","container","setToken","setUsername","screen","Dimensions","get","StyleSheet","create","height","width","flex","backgroundColor","alignItems","justifyContent","marginTop"],"sources":["C:/Users/Miste/OneDrive/Documents/Travail/Master/M2/IHM - Visu Donnees/ihm-visu-donnees/Screen/TodoListsScreen.js"],"sourcesContent":["import React from 'react'\r\nimport { View, Text, Button, Dimensions, StyleSheet, SliderComponent } from 'react-native'\r\nimport TodoList from '../components/TodoList';\r\n\r\nimport { getTaskList } from '../API/todoAPI';\r\nimport { TokenContext } from '../Context/Context';\r\nimport { UsernameContext } from '../Context/Context';\r\nimport { withSafeAreaInsets } from 'react-native-safe-area-context';\r\n\r\nexport default function TodoLists(){\r\n\r\n  const [TodoList, setTodoList] = useState(tasksName);\r\n\r\n    var tasksID = []\r\n    var tasksName = []\r\n    const TaskList = (username,token) => {\r\n      getTaskList(username,token)\r\n      .then(taskList => {\r\n        for (let i = 0; i < taskList.length; i++) {\r\n          console.log('tache: ' + taskList[i].title);\r\n          tasksID.push(taskList[i].id)\r\n          tasksName.push(taskList[i].title)\r\n        }\r\n        console.log(tasksName)\r\n        setTodoList(tasksName)\r\n        console.log(tasksID)\r\n      })\r\n  }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text>Liste des TodoLists</Text>\r\n\r\n            <TokenContext.Consumer>\r\n          {([token, setToken]) => (\r\n            <UsernameContext.Consumer>\r\n              {([username, setUsername]) => {\r\n                return (\r\n                  <View>\r\n                    {console.log(\"coucou\")}\r\n                    {TaskList(username, token)}\r\n                    {console.log('ici')}\r\n                    <Text>Premier ID :{tasksID[0]}</Text>\r\n                    {console.log('AU SECOURS C ASYNCRONE')}\r\n                  </View>\r\n                  \r\n                 )    \r\n              }}\r\n            </UsernameContext.Consumer>\r\n          )}\r\n        </TokenContext.Consumer>\r\n            {/* <TodoList/> */}\r\n        </View>\r\n    )\r\n}\r\n\r\nconst screen = Dimensions.get(\"screen\");\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    height: screen.width * 0.8,\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginTop: 250,\r\n  },\r\n});"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;SACqDC,e;AACrD,OAAOC,QAAP;AAEA,SAASC,WAAT;AACA,SAASC,YAAT;AACA,SAASC,eAAT;AACA,SAASC,kBAAT,QAAmC,gCAAnC;;;AAEA,eAAe,SAASC,SAAT,GAAoB;EAEjC,gBAAgCC,QAAQ,CAACC,SAAD,CAAxC;EAAA;EAAA,IAAOP,QAAP;EAAA,IAAiBQ,WAAjB;;EAEE,IAAIC,OAAO,GAAG,EAAd;EACA,IAAIF,SAAS,GAAG,EAAhB;;EACA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAAUC,KAAV,EAAoB;IACnCX,WAAW,CAACU,QAAD,EAAUC,KAAV,CAAX,CACCC,IADD,CACM,UAAAC,QAAQ,EAAI;MAChB,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACE,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;QACxCE,OAAO,CAACC,GAAR,CAAY,YAAYJ,QAAQ,CAACC,CAAD,CAAR,CAAYI,KAApC;QACAV,OAAO,CAACW,IAAR,CAAaN,QAAQ,CAACC,CAAD,CAAR,CAAYM,EAAzB;QACAd,SAAS,CAACa,IAAV,CAAeN,QAAQ,CAACC,CAAD,CAAR,CAAYI,KAA3B;MACD;;MACDF,OAAO,CAACC,GAAR,CAAYX,SAAZ;MACAC,WAAW,CAACD,SAAD,CAAX;MACAU,OAAO,CAACC,GAAR,CAAYT,OAAZ;IACD,CAVD;EAWH,CAZC;;EAcA,OACI,MAAC,IAAD;IAAM,KAAK,EAAEa,MAAM,CAACC,SAApB;IAAA,WACI,KAAC,IAAD;MAAA;IAAA,EADJ,EAGI,KAAC,YAAD,CAAc,QAAd;MAAA,UACD;QAAA;QAAA,IAAEX,KAAF;QAAA,IAASY,QAAT;;QAAA,OACC,KAAC,eAAD,CAAiB,QAAjB;UAAA,UACG,yBAA6B;YAAA;YAAA,IAA3Bb,QAA2B;YAAA,IAAjBc,WAAiB;;YAC5B,OACE,MAAC,IAAD;cAAA,WACGR,OAAO,CAACC,GAAR,CAAY,QAAZ,CADH,EAEGR,QAAQ,CAACC,QAAD,EAAWC,KAAX,CAFX,EAGGK,OAAO,CAACC,GAAR,CAAY,KAAZ,CAHH,EAIE,MAAC,IAAD;gBAAA,2BAAmBT,OAAO,CAAC,CAAD,CAA1B;cAAA,EAJF,EAKGQ,OAAO,CAACC,GAAR,CAAY,wBAAZ,CALH;YAAA,EADF;UAUD;QAZH,EADD;MAAA;IADC,EAHJ;EAAA,EADJ;AAyBH;AAED,IAAMQ,MAAM,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,CAAf;AACA,IAAMN,MAAM,GAAGO,UAAU,CAACC,MAAX,CAAkB;EAC/BP,SAAS,EAAE;IACTQ,MAAM,EAAEL,MAAM,CAACM,KAAP,GAAe,GADd;IAETC,IAAI,EAAE,CAFG;IAGTC,eAAe,EAAE,MAHR;IAITC,UAAU,EAAE,QAJH;IAKTC,cAAc,EAAE,QALP;IAMTC,SAAS,EAAE;EANF;AADoB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}